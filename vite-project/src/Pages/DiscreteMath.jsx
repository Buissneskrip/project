import React, { useState } from 'react';

const questions = [
  {
    id: 1,
    question: 'Що таке граф?',
    options: [
      'Математична модель для представлення зв`язків між об`єктами', 
      'Рівняння, що містить дві змінні', 
      'Функція, що описує залежність між двома величинами',],
    answer: 'Математична модель для представлення зв`язків між об`єктами'
  },
  {
    id: 2,
    question: 'Що таке вершина графа?',
    options: [
      "Ребро графа, що з'єднує дві вершини", 
      "Об'єкт, який представлений у графі", 
      "Кількість ребер, що з'єднуються в одній вершині",],
    answer: "Об'єкт, який представлений у графі"
  },
  {
    id: 3,
    question: 'Що таке ребро графа?',
    options: [
      "Зв'язок, що з'єднує дві вершини графа", 
      "Об'єкт, який представлений у графі", 
      "Кількість ребер, що з'єднуються в одній вершині"],
    answer: "Зв'язок, що з'єднує дві вершини графа"
  },
  {
    id: 4,
    question: 'Що таке ступінь вершини графа?',
    options: [
      "Об'єкт, який представлений у графі", 
      "Зв'язок, що з'єднує дві вершини графа", 
      "Кількість ребер, що з'єднуються в одній вершині", ],
    answer: "Кількість ребер, що з'єднуються в одній вершині"
  },
  {
    id: 5,
    question: 'Що таке цикл у графі?',
    options: [
      'Шлях у графі, який починається і закінчується в одній вершині, не проходячи через жодну вершину двічі', 
      'Шлях у графі, який починається і закінчується в одній вершині, але може проходити через деякі вершини двічі', 
      "Зв'язок, що з'єднує дві вершини графа", ],
    answer: 'Шлях у графі, який починається і закінчується в одній вершині, не проходячи через жодну вершину двічі'
  },
  {
    id: 6,
    question: 'Що таке шлях у графі?',
    options: [
      'Цикл у графі, який починається і закінчується в одній вершині', 
      "Послідовність вершин у графі, з'єднаних ребрами", 
      "Зв'язок, що з'єднує дві вершини графа", ],
    answer: "Послідовність вершин у графі, з'єднаних ребрами"
  },
  {
    id: 7,
    question: 'Що таке дерево?',
    options: [
      'Граф, який не містить циклів', 
      'Граф, який містить цикли.', 
      'Граф, який містить лише один цикл.', ],
    answer: 'Граф, який не містить циклів'
  },
  {
    id: 8,
    question: 'Що таке бінарне дерево?',
    options: [
      'Дерево, де кожна вершина може мати максимум два ребра', 
      'Дерево, де кожна вершина може мати максимум три ребра', 
      'Дерево, де кожна вершина може мати будь-яку кількість ребер', ],
    answer: 'Дерево, де кожна вершина може мати максимум два ребра'
  },
  {
    id: 9,
    question: 'Що таке алгебра множин?',
    options: [
      'Розділ математики, який вивчає геометричні фігури', 
      'Розділ математики, який вивчає числа та операції над ними',
      'Розділ математики, який вивчає множини та операції над ними', ],
    answer: 'Розділ математики, який вивчає множини та операції над ними'
  },
  {
    id: 10,
    question: "Що таке кон'юнкція (І)?",
    options: [
      'Логічна операція, яка повертає істину, якщо хоча б один операнд хибний', 
      'Логічна операція, яка повертає істину, лише якщо всі операнди істинні', 
      'Логічна операція, яка повертає істину, якщо всі операнди хибні', ],
    answer: 'Логічна операція, яка повертає істину, лише якщо всі операнди істинні'
  },
  {
    id: 11,
    question: "Що таке диз'юнкція (АБО)?",
    options: [
      'Логічна операція, яка повертає істину, якщо хоча б один операнд істинний', 
      'Логічна операція, яка повертає істину, лише якщо всі операнди істинні', 
      'Логічна операція, яка повертає істину, якщо всі операнди хибні', ],
    answer: 'Логічна операція, яка повертає істину, якщо хоча б один операнд істинний'
  },
  {
    id: 12,
    question: 'Що таке імплікація (якщо... то)?',
    options: [
      'Логічна операція, яка повертає істину, якщо хоча б один операнд хибний', 
      'Логічна операція, яка повертає істину, лише якщо всі операнди істинні', 
      'Логічна операція, яка повертає хибність лише тоді, коли перший операнд істинний, а другий - хибний. В усіх інших випадках - істину', ],
    answer: 'Логічна операція, яка повертає хибність лише тоді, коли перший операнд істинний, а другий - хибний. В усіх інших випадках - істину'
  },
  {
    id: 13,
    question: 'Система лінійних рівнянь, яка має лише один розв’язок, називається:',
    options: [
      'Квадратною', 
      'Визначеною', 
      'Невизначеною', ],
    answer: 'Визначеною'
  },
  {
    id: 14,
    question: 'Що таке еквівалентність (якщо і тільки якщо)?',
    options: [
      'Логічна операція, яка повертає істину, якщо хоча б один операнд істинний.', 
      'Логічна операція, яка повертає істину, лише якщо всі операнди істинні.', 
      'Логічна операція, яка змінює значення операнда на протилежне (істинне стає хибним, і навпаки)', ],
    answer: 'Логічна операція, яка змінює значення операнда на протилежне (істинне стає хибним, і навпаки)'
  },
  {
    id: 15,
    question: 'Що таке булева алгебра?',
    options: [
      'Розділ математики, який вивчає множини та операції над ними', 
      'Алгебраїчна структура, де значеннями є логічні значення (істина/хибність), а операціями - логічні операції', 
      'Розділ математики, який вивчає геометричні фігури', ],
    answer: 'Алгебраїчна структура, де значеннями є логічні значення (істина/хибність), а операціями - логічні операції'
  },
  {
    id: 16,
    question: 'Що таке граф-схема?',
    options: [
      'Рівняння, яке містить змінні та оператори', 
      'Візуальне представлення алгоритму за допомогою блоків та стрілок, що показують потік виконання', 
      "Комбінація простих висловлювань, з'єднаних логічними операторами", ],
    answer: 'Візуальне представлення алгоритму за допомогою блоків та стрілок, що показують потік виконання'
  },
  {
    id: 17,
    question: 'Що таке рекурсія?',
    options: [
      "Метод розв'язання задач, який полягає в розбитті її на менші підзадачі того ж типу", 
      'Алгебраїчна структура, де значеннями є логічні значення (істина/хибність), а операціями - логічні операції', 
      'Візуальне представлення алгоритму за допомогою блоків та стрілок, що показують потік виконання', ],
    answer: "Метод розв'язання задач, який полягає в розбитті її на менші підзадачі того ж типу"
  },
  {
    id: 18,
    question: 'Що таке алгоритм?',
    options: [
      'Візуальне представлення алгоритму за допомогою блоків та стрілок, що показують потік виконання', 
      'Розділ математики, який вивчає множини та операції над ними', 
      "Кінцевий набір інструкцій, що визначають послідовність дій для розв'язання певної задачі", ],
    answer: "Кінцевий набір інструкцій, що визначають послідовність дій для розв'язання певної задачі"
  },
  {
    id: 19,
    question: 'Що таке оцінка складності алгоритму?',
    options: [
      "Аналіз того, наскільки ефективно алгоритм використовує пам'ять комп'ютера", 
      'Аналіз того, скільки часу або ресурсів потребує алгоритм для виконання в залежності від розміру вхідних даних', 
      "Кінцевий набір інструкцій, що визначають послідовність дій для розв'язання певної задачі", ],
    answer: 'Аналіз того, скільки часу або ресурсів потребує алгоритм для виконання в залежності від розміру вхідних даних'
  },
  {
    id: 20,
    question: 'Що таке асимптотичний аналіз?',
    options: [
      "Кінцевий набір інструкцій, що визначають послідовність дій для розв'язання певної задачі", 
      "Аналіз того, наскільки ефективно алгоритм використовує пам'ять комп'ютера", 
      'Аналіз поведінки алгоритму при збільшенні розміру вхідних даних, використовуючи позначення «велике O», «тета», «омега»', ],
    answer: 'Аналіз поведінки алгоритму при збільшенні розміру вхідних даних, використовуючи позначення «велике O», «тета», «омега»'
  },
  {
    id: 21,
    question: 'Що таке рекурсивна функція?',
    options: [
      'Функція, де кожному вхідному значенню відповідає рівно одне вихідне значення. ', 
      'Функція, яку можна визначити через саму себе', 
      'Функція, де одному вхідному значенню може відповідати декілька вихідних значень', ],
    answer: 'Функція, яку можна визначити через саму себе'
  },
  {
    id: 22,
    question: 'Що таке комбінаторика?',
    options: [
      'Розділ математики, який вивчає множини та операції над ними', 
      "Розділ математики, який вивчає методи підрахунку кількості можливих перестановок, розміщень та комбінацій об'єктів", 
      'Розділ математики, який вивчає геометричні фігури', ],
    answer: "Розділ математики, який вивчає методи підрахунку кількості можливих перестановок, розміщень та комбінацій об'єктів"
  },
  {
    id: 23,
    question: "Що таке об'єднання множин?",
    options: [
      'Множина, яка містить всі елементи, що належать хоча б одній з двох множин', 
      'Множина, яка містить лише елементи, що спільні для двох множин', 
      'Множина, яка містить всі елементи, що не належать жодній з двох множин', ],
    answer: 'Множина, яка містить всі елементи, що належать хоча б одній з двох множин'
  },
  {
    id: 24,
    question: 'Що таке ізоморфізм графів?',
    options: [
      'Шлях у графі, який починається і закінчується в одній вершині, не проходячи через жодну вершину двічі', 
      'Підмножина вершин графа, яка породжує весь граф', 
      "Взаємно-однозначна відповідність між вершинами двох графів, що зберігає зв'язки між ними", ],
    answer: "Взаємно-однозначна відповідність між вершинами двох графів, що зберігає зв'язки між ними"
  },
  {
    id: 25,
    question: 'Що таке ейлерів цикл?',
    options: [
      'Цикл у графі, який проходить через кожне ребро рівно один раз', 
      'Шлях у графі, який починається і закінчується в різних вершинах, і проходить через кожне ребро рівно один раз', 
      'Найкоротший шлях між двома вершинами графа', ],
    answer: 'Цикл у графі, який проходить через кожне ребро рівно один раз'
  },
  {
    id: 26,
    question: 'Що таке гамільтонів цикл?',
    options: [
      'Шлях у графі, який починається і закінчується в різних вершинах, і проходить через кожну вершину рівно один раз', 
      'Найкоротший шлях між двома вершинами графа', 
      'Цикл у графі, який проходить через кожну вершину рівно один раз', ],
    answer: 'Цикл у графі, який проходить через кожну вершину рівно один раз'
  },
  {
    id: 27,
    question: 'Що таке задача про розфарбовування графа?',
    options: [
      'Задача знаходження найкоротшого шляху між двома вершинами графа', 
      'Задача розміщення кольорів на вершинах графа таким чином, щоб сусідні вершини не мали однакового кольору', 
      'Задача знаходження ейлерового циклу в графі', ],
    answer: 'Задача розміщення кольорів на вершинах графа таким чином, щоб сусідні вершини не мали однакового кольору'
  },
  {
    id: 28,
    question: 'Що таке мінімальне дерево розтягуюче?',
    options: [
      'Дерево, яке містить всі вершини графа і мінімізує сумарну вагу ребер', 
      'Ейлерів цикл певного графа', 
      'Шлях між двома вершинами графа, який містить мінімальну кількість ребер', ],
    answer: 'Дерево, яке містить всі вершини графа і мінімізує сумарну вагу ребер'
  },
  {
    id: 29,
    question: 'Що таке група?',
    options: [
      'Алгебраїчна система, де множина елементів має одну операцію - множення', 
      'Алгебраїчна система, де множина елементів має дві операції - додавання та множення, які задовольняють деяким аксіомам', 
      'Алгебраїчна система, де множина елементів має одну операцію - множення, яка задовольняє певним аксіомам', ],
    answer: 'Алгебраїчна система, де множина елементів має одну операцію - множення, яка задовольняє певним аксіомам'
  },
  {
    id: 30,
    question: 'Який алгоритм сортування є найефективнішим для впорядкування вже майже впорядкованого масиву?',
    options: [
      'Швидке сортування', 
      'Сортування вставками', 
      'Сортування злиттям', ],
    answer: 'Сортування вставками'
  },
  {
    id: 31,
    question: 'Який метод використовується для знаходження найкоротшого шляху між двома вершинами графа?',
    options: [
      'Алгоритм Евкліда', 
      'Алгоритм Дейкстри', 
      'Алгоритм Флойда-Уоршелла', ],
    answer: 'Алгоритм Дейкстри'
  },
  {
    id: 32,
    question: "Який алгоритм використовується для розв'язання задачі про рюкзак?",
    options: [
      'Жадібний алгоритм', 
      'Динамічне програмування', 
      'Алгоритм сортування', ],
    answer: 'Динамічне програмування'
  },
  {
    id: 33,
    question: "Який алгоритм використовується для знаходження кращого маршруту для об'їзду певної кількості міст?",
    options: [
      'Алгоритм Евкліда', 
      'Алгоритм Дейкстри', 
      'Алгоритм прохідника', ],
    answer: 'Алгоритм прохідника'
  },
  {
    id: 34,
    question: 'Який метод використовується для перевірки, чи є число простим?',
    options: [
      'Алгоритм Евкліда', 
      'Алгоритм сортування', 
      'Алгоритм Дейкстри', ],
    answer: 'Алгоритм Евкліда'
  },
  {
    id: 35,
    question: 'Який метод використовується для шифрування даних за допомогою алгоритму RSA?',
    options: [
      'Алгоритм сортування', 
      'Алгоритм Евкліда', 
      'Алгоритм RSA', ],
    answer: 'Алгоритм RSA'
  },
  {
    id: 36,
    question: "Який метод використовується для розв'язання задачі про 3 чоловіків і 3 капелюхи?",
    options: [
      'Алгоритм Евкліда', 
      'Алгоритм Дейкстри', 
      'Логічні міркування', ],
    answer: 'Логічні міркування'
  },
  {
    id: 37,
    question: 'Який метод використовується для моделювання соціальних мереж?',
    options: [
      'Теорія графів', 
      'Алгоритм сортування', 
      'Алгоритм Дейкстри', ],
    answer: 'Теорія графів'
  },
  {
    id: 38,
    question: "Який метод використовується для розв'язання задач оптимізації, таких як задача про розрізання пирога?",
    options: [
      'Алгоритм Евкліда', 
      'Алгоритм сортування', 
      'Динамічне програмування', ],
    answer: 'Динамічне програмування'
  },
  {
    id: 39,
    question: 'Який метод використовується для доведення нескінченності множини простих чисел?',
    options: [
      'Алгоритм сортування', 
      'Доведення від супротивного', 
      'Алгоритм Евкліда', ],
    answer: 'Доведення від супротивного' 
  },
  {
    id: 40,
    question: 'Який алгоритм використовується для знаходження всіх можливих шляхів між двома вершинами графа?',
    options: [
      'Алгоритм Дейкстри', 
      'Алгоритм Флойда-Уоршелла', 
      'Алгоритм обходу графа', ],
    answer: 'Алгоритм обходу графа'
  },
  
];

export default function DiscreteMath() {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [userAnswers, setUserAnswers] = useState([]);
  const [showResult, setShowResult] = useState(false);
  const [testStarted, setTestStarted] = useState(false);
  const [selectedAnswerIndex, setSelectedAnswerIndex] = useState(null);
  const [showNextButton, setShowNextButton] = useState(false);

  const handleStartTest = () => {
    setTestStarted(true);
  };

  const handleAnswerClick = (index) => {
    setSelectedAnswerIndex(index); 
    setShowNextButton(true);
  };

  const handleNextClick = () => {
    const updatedAnswers = [...userAnswers];
    updatedAnswers[currentQuestion] = questions[currentQuestion].options[selectedAnswerIndex]; 
    setUserAnswers(updatedAnswers);

    if (currentQuestion + 1 < questions.length) {
      setCurrentQuestion(currentQuestion + 1);
      setSelectedAnswerIndex(null); 
      setShowNextButton(false); 
    } else {
      setShowResult(true);
    }
  };


  const restartTest = () => {
    setCurrentQuestion(0);
    setUserAnswers([]);
    setShowResult(false);
    setSelectedAnswerIndex(null);
    setShowNextButton(false);
  };

  const correctAnswersCount = questions.reduce((count, question, index) => {
    return count + (userAnswers[index] === question.answer ? 1 : 0);
  }, 0);

  return (
    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center'}}>
      {!testStarted ? (
        <button onClick={handleStartTest} className='startButton'>Розпочати</button>
      ) : !showResult ? (
        <div>
          <h2>Запитання {currentQuestion + 1}</h2>
          <h3>{questions[currentQuestion].question}</h3>
          <ul>
            {questions[currentQuestion].options.map((option, index) => (
              <div className='options' key={index}>
              <li onClick={() => handleAnswerClick(index)} style={{ cursor: 'pointer', backgroundColor: selectedAnswerIndex === index ? '#8A4FFF' : '#ffc32e' }}>
                {option}
              </li>
            </div>
            ))}
          </ul>
          {showNextButton && <button onClick={handleNextClick} className='nextButton'>Продовжити</button>}
        </div>
      ) : (
        <div>
          <h1>Підсумок</h1>
          <h2><p>Кількість правильних відповідей: {correctAnswersCount} / {questions.length}</p></h2>
          {questions.map((question, index) => (
            <div key={index}>
              <h3><p>{question.question}</p></h3>
              <ul>
                {question.options.map((option, optionIndex) => (
                  <div className='options'>
                  <li key={optionIndex} style={{ color: userAnswers[index] === option && userAnswers[index] === question.answer ? 'green' : 'red '}}>
                    {option} {userAnswers[index] === option ? '-Ваша відповідь' : ''}
                  </li>
                  </div>
                ))}
              </ul>
              <h3><p style={{ color: 'green' }}>Правильна відповідь: {question.answer}</p></h3>
            </div>
          ))}
          <button onClick={restartTest} className='againButton'>Спробувати ще раз</button>
        </div>
      )}
    </div>
  );
}
